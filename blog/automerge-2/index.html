<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Automerge 2.0 | Automerge CRDT</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://automerge.github.io/blog/automerge-2/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="title" content="Automerge"><meta data-rh="true" name="keywords" content="documentation, local-first, crdt, offline-first, automerge"><meta data-rh="true" property="og:title" content="Automerge 2.0 | Automerge CRDT"><meta data-rh="true" name="description" content="Automerge 2.0 is here and ready for production. It’s our first supported release resulting from a ground-up rewrite. The result is a production-ready CRDT with huge improvements in performance and reliability. It&#x27;s available in both JavaScript and Rust, and includes TypeScript types and C bindings for use in other ecosystems. Even better, Automerge 2.0 comes with improved documentation and, for the first time, support options for production users."><meta data-rh="true" property="og:description" content="Automerge 2.0 is here and ready for production. It’s our first supported release resulting from a ground-up rewrite. The result is a production-ready CRDT with huge improvements in performance and reliability. It&#x27;s available in both JavaScript and Rust, and includes TypeScript types and C bindings for use in other ecosystems. Even better, Automerge 2.0 comes with improved documentation and, for the first time, support options for production users."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-01-17T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/pvh"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://automerge.github.io/blog/automerge-2/"><link data-rh="true" rel="alternate" href="https://automerge.github.io/blog/automerge-2/" hreflang="en"><link data-rh="true" rel="alternate" href="https://automerge.github.io/blog/automerge-2/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Automerge CRDT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Automerge CRDT Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.29d709e1.css">
<link rel="preload" href="/assets/js/runtime~main.32df193c.js" as="script">
<link rel="preload" href="/assets/js/main.a8939604.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/automerge.png" alt="Automerge logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/automerge.png" alt="Automerge logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Automerge</b></a><a class="navbar__item navbar__link" href="/docs/hello/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/automerge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/automerge-2/">Automerge 2.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome/">Welcome</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Automerge 2.0</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-01-17T00:00:00.000Z" itemprop="datePublished">January 17, 2023</time> · <!-- -->12 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/pvh" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">PVH</span></a></div><small class="avatar__subtitle" itemprop="description">Contributor</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Automerge 2.0 is here and ready for production. It’s our first supported release resulting from a ground-up rewrite. The result is a production-ready CRDT with huge improvements in performance and reliability. It&#x27;s available in both JavaScript and Rust, and includes TypeScript types and C bindings for use in other ecosystems. Even better, Automerge 2.0 comes with improved documentation and, for the first time, support options for production users.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="automerge-crdts-and-local-first-software">Automerge, CRDTs, and Local-first Software<a href="#automerge-crdts-and-local-first-software" class="hash-link" aria-label="Direct link to Automerge, CRDTs, and Local-first Software" title="Direct link to Automerge, CRDTs, and Local-first Software">​</a></h2><p>Before getting into the details of why we&#x27;re excited about Automerge 2.0, let&#x27;s take a bit of time to explain what Automerge is for anyone unfamiliar with the project.</p><p>Automerge is a <a href="https://crdt.tech/" target="_blank" rel="noopener noreferrer">CRDT</a>, or &quot;conflict-free replicated data type&quot;, but if you&#x27;re allergic to buzzwords you can just think of it as a version controlled data structure. Automerge lets you record changes made to data and then replay them in other places, reliably producing the same result in each. It supports JSON-like data, including arbitrarily nested maps and arrays, as well as some more advanced data types such as text and numeric counters.</p><p>This is useful for quite a few reasons: you can use it to implement real-time collaboration for an application without having to figure out tricky application-specific algorithms on the server. You can also use it to better support offline work. We think it has even more potential than just that.</p><p>Since the rise of the cloud, developers have largely had to choose between building cloud software or traditional installed software. Although installed software has some reliability and performance benefits, cloud software has dominated the market. Cloud software makes sharing data between users easy and includes ubiquitous access from any computing device. Unfortunately, the advantages of cloud software come at a high price. Cloud software is fragile and prone to outages, rarely supports offline use, and is expensive to scale to large audiences.</p><p>At Ink &amp; Switch, we’ve been researching a model for developing software which we call <a href="https://www.inkandswitch.com/local-first/" target="_blank" rel="noopener noreferrer">local-first software</a>, with the goal of combining the best of both worlds: reliable, locally-executed software paired with scalable offline-friendly collaboration infrastructure. We believe that a strong data model based on recording change over time for every application should be a cornerstone of that effort.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="automerge-rs-rebuilt-for-performance--portability">Automerge-RS: Rebuilt for Performance &amp; Portability<a href="#automerge-rs-rebuilt-for-performance--portability" class="hash-link" aria-label="Direct link to Automerge-RS: Rebuilt for Performance &amp; Portability" title="Direct link to Automerge-RS: Rebuilt for Performance &amp; Portability">​</a></h2><p>Earlier versions of Automerge were implemented in pure JavaScript. Our initial implementations were theoretically sound but much too slow and used too much memory for most production use cases.</p><p>Furthermore, JavaScript support on mobile devices and embedded systems is limited. We wanted a fast and efficient version of Automerge that was available everywhere: in the browser, on any mobile device, and even microcontrollers like the <a href="https://en.wikipedia.org/wiki/ESP32" target="_blank" rel="noopener noreferrer">ESP32</a>.</p><p>Instead of trying to coordinate multiple distinct versions of Automerge, we decided to rewrite Automerge in Rust and use platform-specific wrappers to make it available in each language ecosystem. This way we can be confident that the core CRDT logic is identical across all platforms and that everyone benefits from new features and optimizations together.</p><p>For JavaScript applications, this means compiling the Rust to WebAssembly and providing a JavaScript wrapper that maintains the existing Automerge API. Rust applications can obviously use the library directly, and we&#x27;re making sure that it&#x27;s as easy as possible to implement support in other languages with well-designed traits and a comprehensive set of C bindings.</p><p>To deliver this new version, lab members Alex Good and Orion Henry teamed up with open source collaborators including Andrew Jeffery and Jason Kankiewicz to polish and optimize the Rust implementation and JavaScript wrapper. The result is a codebase that is hundreds of times faster than past releases, radically more memory efficient, better tested, and more reliable.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documenting-automerge">Documenting Automerge<a href="#documenting-automerge" class="hash-link" aria-label="Direct link to Documenting Automerge" title="Direct link to Documenting Automerge">​</a></h2><p>With Automerge 2.0 we&#x27;ve made a big investment in improving documentation. In addition to <a href="https://github.com/automerge/automerge-rs/tree/main/javascript/examples" target="_blank" rel="noopener noreferrer">sample code</a>, we now have a <a href="https://automerge.org/docs/tutorial/introduction/" target="_blank" rel="noopener noreferrer">tutorial</a> and <a href="https://automerge.org/docs/quickstart/" target="_blank" rel="noopener noreferrer">quick-start guide</a> that support both Vite and create-react-app, as well as <a href="https://automerge.org/docs/how-it-works/backend/" target="_blank" rel="noopener noreferrer">internals</a> documentation, <a href="https://alexjg.github.io/automerge-storage-docs/" target="_blank" rel="noopener noreferrer">file format</a> and <a href="https://automerge.org/docs/how-it-works/sync/" target="_blank" rel="noopener noreferrer">sync protocol</a> documentation. This work was led by lab alumnus Rae McKelvey and we hope it helps make getting started with Automerge much easier. Please let us know if there are other topics or areas you&#x27;d like to see covered!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supporting-automerge">Supporting Automerge<a href="#supporting-automerge" class="hash-link" aria-label="Direct link to Supporting Automerge" title="Direct link to Supporting Automerge">​</a></h2><p>Those who have been following Automerge for a while may have noticed that we describe Automerge 2.0 as our first <em>supported</em> release. That’s because as part of the Automerge 2.0 release we’ve brought Alex Good onto the team full-time to provide support to external users, handle documentation, release management, and—of course—to continue implementing new Automerge features for the community.</p><p>This is a big moment for Ink &amp; Switch and the Automerge project: we’re now able to provide support to our users thanks to sponsorship from enterprises like <a href="https://fly.io/" target="_blank" rel="noopener noreferrer">Fly.io</a>, <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">Prisma</a>, and <a href="https://bowtie.works/" target="_blank" rel="noopener noreferrer">Bowtie</a> as well as so many others who have contributed either directly to Automerge or through supporting Martin Kleppmann on Patreon.</p><p>If your business is interested in sponsoring Automerge, you can <a href="https://github.com/sponsors/automerge" target="_blank" rel="noopener noreferrer">sponsor us directly</a>, or <a href="mailto:hello@inkandswitch.com" target="_blank" rel="noopener noreferrer">get in touch with us for more information or other sponsorship methods</a>. Every little bit helps, and the more sponsors we have, the more work we can do while still remaining an independent open source project.</p><blockquote><p>At Bowtie we support Automerge because it&#x27;s the best way to achieve the resilliency properties that we&#x27;re delivering to globally distributed private networks. It&#x27;s clear to me that our sponsorship has furthered our software, and that this crew are among the best distributed-systems thinkers in the business.
-- Issac Kelly, CTO, Bowtie.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-speed-memory-and-disk">Performance: Speed, Memory and Disk<a href="#performance-speed-memory-and-disk" class="hash-link" aria-label="Direct link to Performance: Speed, Memory and Disk" title="Direct link to Performance: Speed, Memory and Disk">​</a></h2><p>Using a CRDT inherently comes with overhead: we have to track additional information in order to be able to correctly merge work from different sources. The goal of all CRDT authors is to find the right trade-offs between preserving useful history, reducing CPU overhead, and efficiently storing data in memory and on disk.</p><p>With the Automerge project, our goal is to retain the full history of any document and allow an author to reconstruct any point in time on demand. As software developers we&#x27;re accustomed to having this power: it&#x27;s hard to imagine version control without history.</p><p>With Automerge 2.0, we&#x27;ve brought together an efficient binary data format with fast updates, save, and load performance. Without getting too into the details, we accomplish this by packing data efficiently in memory, ensuring that related data is stored close together for quick retrieval.</p><p>Let&#x27;s take a look at some numbers. One of the most challenging benchmarks for CRDTs is realtime text collaboration. That&#x27;s because a long editing session can result in hundreds of thousands of individual keystrokes to record and synchronize. Martin Kleppmann recorded the keystrokes that went into writing an academic paper and replaying that data has become a <a href="https://github.com/automerge/automerge-perf" target="_blank" rel="noopener noreferrer">popular benchmark</a> for CRDTs.</p><table><thead><tr><th>Insert ~260k operations</th><th>Timing (ms)</th><th>Memory (bytes)</th></tr></thead><tbody><tr><td>Automerge 0.14</td><td>~500,000</td><td>~1,100,000,000</td></tr><tr><td>Automerge 1.0.1</td><td>13,052</td><td>184,721,408</td></tr><tr><td>Automerge 2.0.1</td><td>1,816</td><td>44,523,520</td></tr><tr><td>Yjs</td><td>1,074</td><td>10,141,696</td></tr><tr><td>Automerge 2.0.2-unstable</td><td>661</td><td>22,953,984</td></tr></tbody></table><p>Of course, even the most productive authors struggle to type an entire paper quite so quickly. Indeed, writing a paper can occur over months or even years, making both storage size on disk and load performance important as well.</p><table><thead><tr><th>Size on Disk</th><th>bytes</th></tr></thead><tbody><tr><td>plain text</td><td>107,121</td></tr><tr><td>automerge 2.0</td><td>129,062</td></tr><tr><td>automerge 0.14</td><td>146,406,415</td></tr></tbody></table><p>The binary format works wonders in this example, encoding a full history for the document with only 30% overhead. That&#x27;s less than one additional byte per character! The naive JSON encoding often used circa automerge 0.14 could exceed 1,300 bytes <em>per character</em>. If you&#x27;d like to learn more about the file format, we have a <a href="https://alexjg.github.io/automerge-storage-docs/" target="_blank" rel="noopener noreferrer">specification</a> document.</p><table><thead><tr><th>Load ~260k operations</th><th>Timing (ms)</th></tr></thead><tbody><tr><td>Automerge 1.0.1</td><td>590</td></tr><tr><td>Automerge 2.0.1</td><td>593</td></tr><tr><td>Automerge 2.0.2-unstable</td><td>438</td></tr></tbody></table><p>Loading the compressed document is fast as well, ensuring the best possible start-up time.</p><p>While we are proud of these results, we will continue to invest in improved performance with each release as you can see with the preliminary numbers for the upcoming Automerge 2.0.2 release.</p><p>A few notes about methodology before we move on. The particular implementation we used to run the benchmarks can be found <a href="https://github.com/alexjg/automerge-perf-comparisons" target="_blank" rel="noopener noreferrer">here</a>. These numbers were produced on Ryzen 9 7900X. The &quot;timing&quot; column is how long it takes to apply every single edit in the trace, whilst the &quot;memory&quot; common is the peak memory usage during this process.</p><p>The improvements found in &quot;2.0.2-unstable&quot; mostly result from an upcoming improved API for text. Also note that the &quot;automerge 1.0.1&quot; here is actually the <code>automerge@1.0.1-preview-7</code> release. Automerge 1.0.1 was a significant rewrite from 0.14 and has a similar architecture to the Rust implementation. Improvements between 1.0.1 and 2.0.1 are a result of both optimization and adopting WebAssembly rather than an architectural change.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="portability--mobile-devices">Portability &amp; Mobile Devices<a href="#portability--mobile-devices" class="hash-link" aria-label="Direct link to Portability &amp; Mobile Devices" title="Direct link to Portability &amp; Mobile Devices">​</a></h2><p>Because the core logic of Automerge is now built in Rust, we&#x27;re able to port it more easily to a wide variety of environments and bind it to almost any language. We have users today who directly build on Automerge using the Rust APIs (and the helpful <a href="https://github.com/automerge/autosurgeon" target="_blank" rel="noopener noreferrer">autosurgeon</a> library). We also have a <a href="https://github.com/automerge/automerge-rs/tree/main/rust/automerge-c" target="_blank" rel="noopener noreferrer">C-bindings API</a> designed and contributed by Jason Kankiewicz, and are excited to see the <a href="https://github.com/automerge/automerge-go" target="_blank" rel="noopener noreferrer"><code>automerge-go</code></a> implementation underway by Conrad Irwin.</p><p>In the future, we hope to provide bindings for other languages including Swift, Kotlin, and Python. If you&#x27;re interested in getting involved in those projects please let us know!</p><p>One important note is that React-Native does not support WASM today. Developers building mobile applications will need to bind directly via C. If you&#x27;re interested in either working on or sponsoring work on this problem, feel free to get in touch.</p><h1>What’s Next</h1><p>With the release of Automerge 2.0 out the door, we will of course be listening closely to the community about their experience with the release, but in the months ahead, we expect to work on at least some of the following features:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="native-rich-text-support">Native Rich Text Support<a href="#native-rich-text-support" class="hash-link" aria-label="Direct link to Native Rich Text Support" title="Direct link to Native Rich Text Support">​</a></h2><p>As with most CRDTs, Automerge originally focused on optimizing editing of plaintext. In the <a href="https://www.inkandswitch.com/peritext/" target="_blank" rel="noopener noreferrer">Peritext paper</a> by Ink &amp; Switch we discuss an algorithm for supporting rich text with good merging accuracy, and we are planning to integrate this algorithm into Automerge. Support for rich text will also make it easier to implement features like comments or cursor and selection sharing.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="automerge-repo">Automerge-Repo<a href="#automerge-repo" class="hash-link" aria-label="Direct link to Automerge-Repo" title="Direct link to Automerge-Repo">​</a></h2><p>We’ve worked hard to keep Automerge platform-agnostic and support a wide variety of deployment environments. We don’t require a particular network stack or storage system, and Automerge has been used successfully in, client-server web applications, peer-to-peer desktop software, and as a data synchronization engine for cloud services. Unfortunately, excluding network and storage from the library has left a lot of the busy-work up to application developers, and asked them to learn a lot about distributed systems just to get started.</p><p>Our new library, <a href="https://github.com/automerge/automerge-repo" target="_blank" rel="noopener noreferrer">Automerge-Repo</a>, is a modular batteries-included approach to building web applications with Automerge. It works both in the browser (desktop and mobile) and in Node, and supports a variety of networking and storage adapters. There are even text editor bindings for Quill and Prosemirror as well as React Hooks to make it easy to get started quickly.</p><p>It&#x27;s under active development, and available in beta right now. We&#x27;ll talk more about it when we announce GA, but if you&#x27;re starting a browser-based application now, it&#x27;s probably the right place to start.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rust-developer-experience-improvements">Rust Developer Experience Improvements<a href="#rust-developer-experience-improvements" class="hash-link" aria-label="Direct link to Rust Developer Experience Improvements" title="Direct link to Rust Developer Experience Improvements">​</a></h2><p>We&#x27;ve seen tremendous enthusiasm for the native Rust experience of Automerge, and the current Rust API is powerful and fast. Unfortunately, it&#x27;s also low-level and can be difficult to work with directly. To make building Rust applications against automerge easier, Alex built <a href="https://github.com/automerge/autosurgeon" target="_blank" rel="noopener noreferrer">Autosurgeon</a>, a library that helps bind Rust data structures to Automerge documents, and we&#x27;ll continue to listen to our Rust users and improve on that experience.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="improved-synchronization">Improved Synchronization<a href="#improved-synchronization" class="hash-link" aria-label="Direct link to Improved Synchronization" title="Direct link to Improved Synchronization">​</a></h2><p>Automerge&#x27;s current synchronization system has some great properties. In many cases it can bring two clients up to date with only a single round-trip each direction. That said, we see big potential to improve the CPU performance of this process, and also lots of opportunity to improve sync performance of many documents at once. We also expect to provide other optimizations our users and sponsors have requested, such as more efficient first-document loading, network compaction of related changes, and enabling something akin to a Git “shallow clone” for clients which don&#x27;t need historical data.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="built-in-branches">Built-in Branches<a href="#built-in-branches" class="hash-link" aria-label="Direct link to Built-in Branches" title="Direct link to Built-in Branches">​</a></h2><p>While we retain the full history of Automerge documents and provide APIs to access it, we don’t currently provide an efficient way to reconcile many closely related versions of a given document. This feature is particularly valuable for supporting offline collaboration in professional environments and (combined with Rich Text Support) should make it much easier for our friends in journalism organizations to build powerful and accurate editing tools.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="history-management">History Management<a href="#history-management" class="hash-link" aria-label="Direct link to History Management" title="Direct link to History Management">​</a></h2><p>Today the best way to remove something from an Automerge document&#x27;s history is to recreate the document from scratch or to reset to a time before that change went in. In the future, we plan to provide additional tools to give developers more control over document history. We expect this to include the ability to share just the latest version of a document (similar to a shallow clone in <code>git</code>), and to share updates that bypass changes you don&#x27;t want to share (as when a developer squashes commits before publishing). </p><h1>Conclusion</h1><p>Automerge 2.0 is here, it’s ready for you, and we’re tremendously excited to share it with you. We’ve made Automerge faster, more memory efficient, and we’re bringing it to more platforms than ever. We’re adding features, making it easier to adopt, and have begun growing a team to support it. There has never been a better moment to start building local-first software: why not <a href="https://automerge.org/docs/hello/" target="_blank" rel="noopener noreferrer">give it a try</a>, and please feel welcome to <a href="https://join.slack.com/t/automerge/shared_invite/zt-e4p3760n-kKh7r3KRH1YwwNfiZM8ktw" target="_blank" rel="noopener noreferrer">join us in the Automerge Slack</a>, too.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>A note to existing users: Automerge 2.0 is found on npm at <code>@automerge/automerge</code>. We have deprecated the <code>automerge</code> package.</p></div></div></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col margin-top--sm"><a href="https://github.com/automerge/automerge.github.io/edit/main/blog/2023-01-17-automerge-2/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/welcome/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Welcome</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#automerge-crdts-and-local-first-software" class="table-of-contents__link toc-highlight">Automerge, CRDTs, and Local-first Software</a></li><li><a href="#automerge-rs-rebuilt-for-performance--portability" class="table-of-contents__link toc-highlight">Automerge-RS: Rebuilt for Performance &amp; Portability</a></li><li><a href="#documenting-automerge" class="table-of-contents__link toc-highlight">Documenting Automerge</a></li><li><a href="#supporting-automerge" class="table-of-contents__link toc-highlight">Supporting Automerge</a></li><li><a href="#performance-speed-memory-and-disk" class="table-of-contents__link toc-highlight">Performance: Speed, Memory and Disk</a></li><li><a href="#portability--mobile-devices" class="table-of-contents__link toc-highlight">Portability &amp; Mobile Devices</a></li><li><a href="#native-rich-text-support" class="table-of-contents__link toc-highlight">Native Rich Text Support</a></li><li><a href="#automerge-repo" class="table-of-contents__link toc-highlight">Automerge-Repo</a></li><li><a href="#rust-developer-experience-improvements" class="table-of-contents__link toc-highlight">Rust Developer Experience Improvements</a></li><li><a href="#improved-synchronization" class="table-of-contents__link toc-highlight">Improved Synchronization</a></li><li><a href="#built-in-branches" class="table-of-contents__link toc-highlight">Built-in Branches</a></li><li><a href="#history-management" class="table-of-contents__link toc-highlight">History Management</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quickstart/">Quick Start</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/automerge/shared_invite/zt-e4p3760n-kKh7r3KRH1YwwNfiZM8ktw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://inkandswitch.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ink &amp; Switch<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/automerge/automerge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Automerge contributors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.32df193c.js"></script>
<script src="/assets/js/main.a8939604.js"></script>
</body>
</html>